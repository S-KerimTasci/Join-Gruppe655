<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: boardSingleTask.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: boardSingleTask.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * this function calls all functions for adding values to the html code within the active task
 * 
 * @param {object} activeTask 
 * @param {number} taskNumber 
 */
function callFunctionForSingleTask(activeTask, taskNumber) {
    colorTaskType(activeTask.taskType, taskNumber);
    addTaskTitle(activeTask.headline, taskNumber);
    addTaskTxt(activeTask.description, taskNumber);
    subTaskBarProgress(activeTask.doneSubTasks, activeTask.sbuTaskTotal, taskNumber);
    taskMember(activeTask.member, taskNumber);
    taskUrgency(activeTask.urgency, taskNumber);
    selectionHTML(activeTask.status, taskNumber);
}

/**
 * This function returns the HTML code for a task
 * 
 * @param {number} taskNr 
 * @returns - html code
 */
function taskTemplate(taskNr) {
    return /*html*/ `
    &lt;div id="idTaskId${taskNr}"  draggable='true' ondragstart="dragStart(${taskNr})" class="singleTaskContainer">
        &lt;div class="d-flex justify-content-between align-item-center">
            &lt;div id="idTaskType${taskNr}" class="singlTaskType">User Story &lt;/div>
            &lt;select id="idChangeStatus${taskNr}" onchange="changeStatus(this)" class="changeStatus">
             &lt;!-- hier kommt das dropdownelement rein -->
             &lt;/select> 
        &lt;/div>
        &lt;div id="idTaskTxts${taskNr}" class="singelTaskTexts">
            &lt;div id="idTaskHeadline${taskNr}" class="singleTaskHeadline">Headline
            &lt;/div>
            &lt;div id="idTaskShortTxt${taskNr}" class="singleTaskTxt">Create a contact form and
                imprint page...&lt;/div>
        &lt;/div>
        &lt;div id="idTaskSubTask${taskNr}" class="TaskSubTask">
            &lt;div class="SingleTaskSubProgressOuterCon"> 
                &lt;div id="idSingleTaskSubProgress${taskNr}" class="SingleTaskSubProgress">&lt;/div>
            &lt;/div>
            &lt;div id="idSingleTaksCount${taskNr}" class="SingleTaksCount">
                &lt;span id="idSingleTaksCountPart${taskNr}">1&lt;/span>
                &lt;span>/&lt;/span>
                &lt;span id="idSingleTaksCountTotal${taskNr}">2&lt;/span>
                &lt;span> Subtasks&lt;/span>
            &lt;/div>
        &lt;/div>
        &lt;div id="idSingleTaskMemberPrio${taskNr}" class="SingleTaskMemberPrio">
            &lt;div id="idSingleTaskMember${taskNr}" class="SingleTaskMember">
                &lt;!-- hier m端ssen dann 端ber eine Funktion die Memberplaketten eingef端gt werden -->
            &lt;/div>
            &lt;div id="idSingleTaskPrio${taskNr}" class="SingleTaskPrio">
                &lt;img id="idSingleTaskPrioImg${taskNr}" src="../assets/img/prio_urgent.svg" alt="">
            &lt;/div>
        &lt;/div>
    &lt;/div>`
}

/**
 * 
 * @param {string} taskStatus provides the actual status of task
 * @param {number} taskNr - provides the task number of task
 */
function selectionHTML(taskStatus, taskNr) {
    const statusArr = ['toDo', 'inProgress', 'awaitFeedback', 'done'];
    let htmlOptions = `&lt;option value="${taskStatus}">${taskStatus}&lt;/option>`;
    for (let i = 0; i &lt; statusArr.length; i++) {
        if (taskStatus !== statusArr[i]) {
            htmlOptions += `&lt;option value="${statusArr[i]}">${statusArr[i]}&lt;/option>`;
        }  
    }
    document.getElementById('idChangeStatus' + taskNr).innerHTML = htmlOptions;
}


/**
 * this function returns the background color for the specific task type
 * 
 * @param {string} taskType - this is the specific task type
 * @param {number} taskNr - used to find the specific element id
 */
function colorTaskType(taskType, taskNr) {
    document.getElementById('idTaskType' + taskNr).innerText = taskType;
    switch (taskType) {
        case "User Story":
            document.getElementById('idTaskType' + taskNr).style.backgroundColor = '#0038FF';
            break;
        case "Technical Task":
            document.getElementById('idTaskType' + taskNr).style.backgroundColor = '#1FD7C1';
            break;
        default:
            break;
    }
}

/**
 * This function adds the Headline of task to the html element
 * 
 * @param {string} taskHeadline 
 * @param {number} taskNr 
 */
function addTaskTitle(taskHeadline, taskNr) {
    document.getElementById('idTaskHeadline' + taskNr).innerText = taskHeadline;
}

/**
 * This function adds the limited text to the html code of the task
 * 
 * @param {string} taskText 
 * @param {number} taskNr 
 */
function addTaskTxt(taskText, taskNr) {
    document.getElementById('idTaskShortTxt' + taskNr).innerText = limitTextTo37Char(taskText);
}

/**
 * This function retuns string of 37 chars plus '...' if the lenght of the string is graeter than 37 chars
 * 
 * @param {string} text 
 * @returns - text limited to 37 chars plus three dots
 */
function limitTextTo37Char(text) {
    if (text.length &lt;= 37) {
        return text
    } else {
        return text.substring(0, 37) + '...';
    }
}

/**
 * This function changes the progress bar width
 * 
 * @param {number} doneSubTasks 
 * @param {number} sbuTaskTotal 
 * @param {number} taskNr 
 */
function subTaskBarProgress(doneSubTasks, sbuTaskTotal, taskNr) {
    let faktor = 1;
    document.getElementById('idSingleTaksCountPart' + taskNr).innerText = doneSubTasks;
    document.getElementById('idSingleTaksCountTotal' + taskNr).innerText = sbuTaskTotal;
    if (sbuTaskTotal != 0) {
        faktor = doneSubTasks / sbuTaskTotal;
        document.getElementById('idSingleTaskSubProgress' + taskNr).style.width = Math.round(128 * faktor) + 'px';
        
    } else {
        document.getElementById('idSingleTaskSubProgress' + taskNr).style.width = 0;
    }
}

/**
 * This function add html container to a container with id 'idSingleTaskMember'
 * used in renderStatusContainer()
 * 
 * @param {array} arrMember - array of full names of all members connected to the task
 * @param {number} taskNr - to create a unique id
 */
function taskMember(arrMember, taskNr) {
    for (let i = 0; i &lt; arrMember.length; i++) {
        let membinitials = memberInitials(arrMember[i]);
        document.getElementById('idSingleTaskMember' + taskNr).innerHTML += `&lt;div id="idMemberPlaceholder${taskNr}_${i}" class="memberPlaceholder">${membinitials}&lt;/div>`
        // um die Hintergrundfarbe einzuf端gen muss hier noch Code rein. 
    }
}

/**
 * This function changes the img urgency belonging to task urgency
 * 
 * @param {string} urgency 
 * @param {number} taskNr 
 */
function taskUrgency(urgency, taskNr) {
    switch (urgency) {
        case 'low':
            document.getElementById('idSingleTaskPrioImg' + taskNr).src = "../assets/img/prio_low.svg";
            break;
        case 'medium':
            document.getElementById('idSingleTaskPrioImg' + taskNr).src = "../assets/img/prio_medium.svg";
            break;
        case 'urgent':
            document.getElementById('idSingleTaskPrioImg' + taskNr).src = "../assets/img/prio_urgent.svg";
            break;
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addGreetingPhrase">addGreetingPhrase</a></li><li><a href="global.html#addNewUser">addNewUser</a></li><li><a href="global.html#addNumToSummary">addNumToSummary</a></li><li><a href="global.html#addTaskTitle">addTaskTitle</a></li><li><a href="global.html#addTaskTxt">addTaskTxt</a></li><li><a href="global.html#addUser">addUser</a></li><li><a href="global.html#addValuesToSummary">addValuesToSummary</a></li><li><a href="global.html#arePasswordsMatching">arePasswordsMatching</a></li><li><a href="global.html#buildDateFormat">buildDateFormat</a></li><li><a href="global.html#callFunctionForSingleTask">callFunctionForSingleTask</a></li><li><a href="global.html#changeStatus">changeStatus</a></li><li><a href="global.html#checkExistingUser">checkExistingUser</a></li><li><a href="global.html#clearRegistrationForm">clearRegistrationForm</a></li><li><a href="global.html#closeOverlay">closeOverlay</a></li><li><a href="global.html#colorTaskType">colorTaskType</a></li><li><a href="global.html#confirmSendMail">confirmSendMail</a></li><li><a href="global.html#countTasks">countTasks</a></li><li><a href="global.html#displayAndHideMessage">displayAndHideMessage</a></li><li><a href="global.html#displayErrorMessage">displayErrorMessage</a></li><li><a href="global.html#displayPasswordMismatchErrorMessage">displayPasswordMismatchErrorMessage</a></li><li><a href="global.html#displaySendPasswordMessageAndRedirect">displaySendPasswordMessageAndRedirect</a></li><li><a href="global.html#displaySuccessMessageAndRedirect">displaySuccessMessageAndRedirect</a></li><li><a href="global.html#displayUserMessageOrRedirect">displayUserMessageOrRedirect</a></li><li><a href="global.html#displayUserNotFoundErrorMessage">displayUserNotFoundErrorMessage</a></li><li><a href="global.html#displayUserNotFoundMessage">displayUserNotFoundMessage</a></li><li><a href="global.html#displayUserNotFoundMessageForEmail">displayUserNotFoundMessageForEmail</a></li><li><a href="global.html#doNotCloseOverlay">doNotCloseOverlay</a></li><li><a href="global.html#findUserByEmail">findUserByEmail</a></li><li><a href="global.html#findUserByEmailAndPassword">findUserByEmailAndPassword</a></li><li><a href="global.html#generateHTMLifNotUserDesktop">generateHTMLifNotUserDesktop</a></li><li><a href="global.html#generateHTMLifNotUserMobile">generateHTMLifNotUserMobile</a></li><li><a href="global.html#getEmailFromURLParams">getEmailFromURLParams</a></li><li><a href="global.html#getItem">getItem</a></li><li><a href="global.html#greetingText">greetingText</a></li><li><a href="global.html#handleExistingUser">handleExistingUser</a></li><li><a href="global.html#handleExistingUserDesktop">handleExistingUserDesktop</a></li><li><a href="global.html#handleExistingUserMobile">handleExistingUserMobile</a></li><li><a href="global.html#handleFailureResponse">handleFailureResponse</a></li><li><a href="global.html#handleMissingName">handleMissingName</a></li><li><a href="global.html#handleMissingNameDesktop">handleMissingNameDesktop</a></li><li><a href="global.html#handleMissingNameMobile">handleMissingNameMobile</a></li><li><a href="global.html#handlePasswordMismatch">handlePasswordMismatch</a></li><li><a href="global.html#handleResponse">handleResponse</a></li><li><a href="global.html#handleResponseDesktop">handleResponseDesktop</a></li><li><a href="global.html#handleResponseMobile">handleResponseMobile</a></li><li><a href="global.html#handleSignUpButtonClick">handleSignUpButtonClick</a></li><li><a href="global.html#handleSuccessResponse">handleSuccessResponse</a></li><li><a href="global.html#includeHTML">includeHTML</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initAnimation">initAnimation</a></li><li><a href="global.html#initAnimationResponsiv">initAnimationResponsiv</a></li><li><a href="global.html#initials">initials</a></li><li><a href="global.html#limitTextTo37Char">limitTextTo37Char</a></li><li><a href="global.html#loadUsers">loadUsers</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#memberInitials">memberInitials</a></li><li><a href="global.html#passwordNotMatchDesktop">passwordNotMatchDesktop</a></li><li><a href="global.html#passwordNotMatchMobile">passwordNotMatchMobile</a></li><li><a href="global.html#privacyPolicy">privacyPolicy</a></li><li><a href="global.html#processEmailConfirmation">processEmailConfirmation</a></li><li><a href="global.html#redirectToLoginPage">redirectToLoginPage</a></li><li><a href="global.html#removeDefaultContainer">removeDefaultContainer</a></li><li><a href="global.html#renderStatusContainer">renderStatusContainer</a></li><li><a href="global.html#renderTasks">renderTasks</a></li><li><a href="global.html#resetInputFields">resetInputFields</a></li><li><a href="global.html#resetPassword">resetPassword</a></li><li><a href="global.html#resetPasswordDesktop">resetPasswordDesktop</a></li><li><a href="global.html#resetPasswordMobile">resetPasswordMobile</a></li><li><a href="global.html#resetUserPassword">resetUserPassword</a></li><li><a href="global.html#resetUserPasswordOrDisplayError">resetUserPasswordOrDisplayError</a></li><li><a href="global.html#selectionHTML">selectionHTML</a></li><li><a href="global.html#sendPasswordDesktop">sendPasswordDesktop</a></li><li><a href="global.html#sendPasswordMobile">sendPasswordMobile</a></li><li><a href="global.html#setItem">setItem</a></li><li><a href="global.html#setNewUser">setNewUser</a></li><li><a href="global.html#subTaskBarProgress">subTaskBarProgress</a></li><li><a href="global.html#taskMember">taskMember</a></li><li><a href="global.html#taskTemplate">taskTemplate</a></li><li><a href="global.html#taskUrgency">taskUrgency</a></li><li><a href="global.html#toggleSignUpButton">toggleSignUpButton</a></li><li><a href="global.html#upcommingDeadline">upcommingDeadline</a></li><li><a href="global.html#validateFullName">validateFullName</a></li><li><a href="global.html#validatePasswordMatch">validatePasswordMatch</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Thu Aug 24 2023 13:30:25 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
